<ion-view title="添加寿险投保人">


  <ion-nav-bar class="bar-stable" align-title="center" >


    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear bar_arr"
              ng-click="go_back()"
              style="font-size: 2.4em;"
      >
        <i class="ion-chevron-left"></i>
      </button>
    </ion-nav-buttons>


  </ion-nav-bar>


  <ion-content >

    <div class="list" style="margin-bottom: 0px;">
      <ul class="ul-tabs dark-theme" style="background: rgb(203,203,203)">
        <li style="width:50%;font-size: medium;" >
          <div class="cell"
               ng-class="{true: 'selected', false: ''}[tabIndex==0]"
               ng-click="tab_change(0)">
            <span style="position:absolute;left:15%;top:40%;">
              已有关联人
            </span>
          </div>
        </li>
        <li style="width:50%; font-size: medium;" >
          <div class="cell"
               ng-class="{true: 'selected', false: ''}[tabIndex==1]"
               ng-click="tab_change(1)">
            <span style="position:absolute;left: 20%;top:40%;">
              新建关联人
            </span>
          </div>
        </li>

      </ul>
    </div>


    <div ng-if="tabIndex==0" style="height: 100%;">

      <div
        class="list list-inset padding"
        style="height: 65%;">

        <div class="item"
             style="margin:1px;border-top:0px;border-left:0px;border-right:0px;border-bottom:1px solid #222;
                 padding:10px;background-color:transparent;overflow:initial">

            <span
              class="input-label"
              style="display: inline-block;width: 25%;text-align: left"
              >
              姓名:
            </span>

            <span
              style="width: 55%;display: inline-block;text-align: left;"
              >
             <input type="text" placeholder="输入亲属姓名"
                    ng-value="order.insurer.perName"
                    ng-model="order.insurer.perName"/>
            </span>

            <span
              style="display:inline-block;width: 20%;text-align: center;vertical-align: middle;"
              ng-click="selectLifeInsurer()"
              >
              <button class="button button-small button-assertive">
                查询
              </button>
            </span>

        </div>

        <ion-scroll style="height: 85%;">

          <div class="item" ng-repeat="person in relativePersons" ng-click="mutex(person,relativePersons)">

            <div style="display:inline-block;width:70%">
               <span>
                {{person.perName}}
               </span>
            </div>

            <i ng-if="person.checked!=true" class="ion-ios-checkmark-outline" ></i>
            <i ng-if="person.checked==true" class="ion-ios-checkmark" ></i>

          </div>
          <div style="height: 20px;">
          </div>
        </ion-scroll>

      </div>

      <div
        class="list list-inset padding"
        style="margin:0px 10px;padding:0px 10px;"
        >
        <div
          class="item"
          style="margin:1px;border:0px;padding:0px 10px;background-color:transparent;"
          >
          <button
            class="button button-block button-calm"
            ng-click="confirm()"
            style="width: 60%;margin-left:20%;margin-top:0px;"
            >
            确认寿险投保人
          </button>
        </div>
      </div>

    </div>



    <div ng-if="tabIndex==1" style="height: 100%;">


        <div class="list list-inset padding">

          <div class="item" style="margin:1px;border-top:0px;border-left:0px;border-right:0px;padding:4px 10px 4px 10px;">
             <span class="input-label" style="display: inline-block;">
              姓名:
            </span>
            <input type="text" placeholder="输入亲属姓名"
                   style="display: inline-block"  ng-value="insurer.perName"
                   ng-model="insurer.perName"/>
          </div>

          <div class="item" style="margin:1px;border-top:0px;border-left:0px;border-right:0px;padding:4px 10px 4px 10px;">
            <span class="input-label" style="display: inline-block;width:55%;">
              选择亲属关系:
            </span>
            <span class="input-label" style="display: inline-block;">
                  {{insurer.relation}}
            </span>
            <div style="position: absolute;right: 15%;top:30%;bottom: 30%;">
                <span ng-click="ActionSheet(['父母','子女','配偶'],insurer,'relation','relType')">
                  <i class="ion-chevron-down"></i>
                </span>
            </div>
          </div>


          <!-- 身份证上传新界面 -->
          <!-- 身份证正面  新的界面 -->
          <div class="item"
               style="margin:1px;border:0px;padding:16px;position: relative;">
            <div style="width: 100%;height:260px;border:1px solid #aaa;display: table;text-align: center;border-radius: 10px;">
              <div style="display: table-cell;vertical-align: middle;text-align: center;">

                <div style="width: 80%;height: 200px;margin-left: 10%;position: relative;">
                  <img src="img/perIdCard1Example.jpg"
                       style="width: 100%;max-height: 200px;border-radius: 10px;"
                       ng-if="insurer.perIdCard1_img==undefined||insurer.perIdCard1_img==null"/>

                  <div style="position: absolute;top:0px;left:0px;width: 100%;height: 200px;z-index: 100;color:#a2a2a2;border-radius: 10px;
                                    background: rgba(80, 80, 80, 0.78);"
                       ng-if="insurer.perIdCard1_img==undefined||insurer.perIdCard1_img==null">
                    <div style="width: 100%;height: 100%;display: table;">
                      <div style="display: table-cell;vertical-align: middle;text-align: center;position: relative;height: 100%;">
                        <div style="position: absolute;left:40%;top:30%;
                                                width: 70px;height: 70px;border:2px dashed #fff;border-radius: 70px;padding-top: 10px;"
                             ng-click="addAttachment(insurer,'perIdCard1_img')">
                          <div style="width: 100%;height: 100%;position: relative">
                            <span style="color:#fff;font-size: 2.4em;margin-top: 10px;">
                                 <i class="fa fa-id-card-o"></i>
                            </span>
                            <span style="position: absolute;right: 10%;bottom: 20%;font-size: 1.2em;color:#fff;">
                               <i class="fa fa-camera"></i>
                            </span>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>

                  <!-- 上传的身份证正面 -->
                  <img ng-src="{{insurer.perIdCard1_img}}"
                       style="width: 100%;max-height: 200px;border-radius: 10px;"
                       ng-if="insurer.perIdCard1_img!==undefined&&insurer.perIdCard1_img!==null"/>
                  <div style="position: absolute;top:0px;left:0px;width: 100%;height: 200px;z-index: 100;color:#a2a2a2;border-radius: 10px;"
                       ng-if="insurer.perIdCard1_img!==undefined&&insurer.perIdCard1_img!==null">
                    <div style="width: 100%;height: 100%;display: table;">
                      <div style="display: table-cell;vertical-align: middle;text-align: center;position: relative;height: 100%;">
                        <div style="position: absolute;left:40%;top:30%;
                                                width: 70px;height: 70px;border:2px dashed #fff;border-radius: 70px;padding-top: 10px;"
                             ng-click="addAttachment(insurer,'perIdCard1_img')">
                          <div style="width: 100%;height: 100%;position: relative">
                               <span style="color:#fff;font-size: 2.4em;margin-top: 10px;">
                                   <i class="fa fa-id-card-o"></i>
                               </span>
                            <span style="position: absolute;right: 10%;bottom: 20%;font-size: 1.2em;color:#fff;">
                               <i class="fa fa-camera"></i>
                            </span>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>

                </div>

                <div style="margin-top:20px;">
                  <span style="color:#33c6cd;font-weight: bolder;">上传身份证正面</span>
                </div>
              </div>

            </div>
          </div>

          <!-- 身份证反面  新的界面 -->
          <div class="item"
               style="margin:1px;border:0px;padding:16px;position: relative;">
            <div style="width: 100%;height:260px;border:1px solid #aaa;display: table;text-align: center;border-radius: 10px;">
              <div style="display: table-cell;vertical-align: middle;text-align: center;">

                <div style="width: 80%;height: 200px;margin-left: 10%;position: relative;">
                  <img src="img/perIdCard2Example.jpg"
                       style="width: 100%;max-height: 200px;border-radius: 10px;"
                       ng-if="insurer.perIdCard2_img==undefined||insurer.perIdCard2_img==null"/>

                  <div style="position: absolute;top:0px;left:0px;width: 100%;height: 200px;z-index: 100;color:#a2a2a2;border-radius: 10px;
                                    background: rgba(80, 80, 80, 0.78);"
                       ng-if="insurer.perIdCard2_img==undefined||insurer.perIdCard2_img==null">
                    <div style="width: 100%;height: 100%;display: table;">
                      <div style="display: table-cell;vertical-align: middle;text-align: center;position: relative;height: 100%;">
                        <div style="position: absolute;left:40%;top:30%;
                                                width: 70px;height: 70px;border:2px dashed #fff;border-radius: 70px;padding-top: 10px;"
                             ng-click="addAttachment(insurer,'perIdCard2_img')">
                          <div style="width: 100%;height: 100%;position: relative">
                            <span style="color:#fff;font-size: 2.4em;margin-top: 10px;">
                              <i class="fa fa-id-card-o"></i>
                            </span>
                            <span style="position: absolute;right: 10%;bottom: 20%;font-size: 1.2em;color:#fff;">
                              <i class="fa fa-camera"></i>
                            </span>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>

                  <!-- 上传的身份证正面 -->
                  <img ng-src="{{insurer.perIdCard2_img}}"
                       style="width: 100%;max-height: 200px;border-radius: 10px;"
                       ng-if="insurer.perIdCard2_img!==undefined&&insurer.perIdCard2_img!==null"/>
                  <div style="position: absolute;top:0px;left:0px;width: 100%;height: 200px;z-index: 100;color:#a2a2a2;border-radius: 10px;"
                       ng-if="insurer.perIdCard2_img!==undefined&&insurer.perIdCard2_img!==null">
                    <div style="width: 100%;height: 100%;display: table;">
                      <div style="display: table-cell;vertical-align: middle;text-align: center;position: relative;height: 100%;">
                        <div style="position: absolute;left:40%;top:30%;
                                                width: 70px;height: 70px;border:2px dashed #fff;border-radius: 70px;padding-top: 10px;"
                             ng-click="addAttachment(insurer,'perIdCard2_img')">
                          <div style="width: 100%;height: 100%;position: relative">
                            <span style="color:#fff;font-size: 2.4em;margin-top: 10px;">
                              <i class="fa fa-id-card-o"></i>
                            </span>
                            <span style="position: absolute;right: 10%;bottom: 20%;font-size: 1.2em;color:#fff;">
                              <i class="fa fa-camera"></i>
                            </span>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>

                </div>

                <div style="margin-top:20px;">
                  <span style="color:#33c6cd;font-weight: bolder;">上传身份证反面</span>
                </div>
              </div>

            </div>
          </div>






          <button class="button button-block button-calm" style="width: 70%;margin-left:15%;" ng-click="upload('createRelativePerson',insurer)">
            关联亲属信息
          </button>

          <div style="width: 100%;height: 20px;">

          </div>

        </div>



    </div>





  </ion-content>




</ion-view>
